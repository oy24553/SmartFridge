@tailwind base;
@tailwind components;
@tailwind utilities;

html, body, #root { height: 100%; }

.container-narrow { max-width: 1200px; }

@layer base {
  html {
    color-scheme: dark;
  }

  body {
    @apply bg-slate-950 text-slate-100 antialiased;
  }

  ::selection {
    background: rgba(99, 102, 241, 0.35);
  }
}

/* Global animation switch: set data-anim="off" on <html> to disable */
[data-anim="off"] *, [data-anim="off"] *::before, [data-anim="off"] *::after {
  animation: none !important;
  transition: none !important;
}

/* A light flash pop utility for success feedback */
@keyframes flash-pop { 0% { transform: scale(.98); box-shadow: 0 0 0 rgba(16,185,129,0); } 50% { transform: scale(1.02); box-shadow: 0 8px 30px rgba(16,185,129,.25); } 100% { transform: scale(1); box-shadow: 0 0 0 rgba(16,185,129,0);} }
.flash-once { animation: flash-pop .6s ease-out 1; }

/* Components layer: shared design tokens */
@layer components {
  /* Layout */
  .app-shell { @apply min-h-screen; }
  .app-container { @apply mx-auto w-full max-w-[1120px] px-4 md:px-6; }

  /* Buttons */
  .btn { @apply inline-flex items-center justify-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition active:scale-[.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500/60 focus-visible:ring-offset-0; }
  .btn-ghost { @apply btn bg-transparent hover:bg-white/5 text-slate-200 border border-white/10; }
  .btn-soft { @apply btn bg-white/5 hover:bg-white/10 text-slate-100 border border-white/10; }
  .btn-primary { @apply btn text-white bg-indigo-500 hover:bg-indigo-400 border border-indigo-400/40 shadow-[0_10px_30px_-15px_rgba(99,102,241,0.75)]; }
  .btn-demo { @apply btn relative text-white overflow-hidden bg-indigo-500 hover:bg-indigo-400 border border-indigo-400/40; }
  .btn-demo::before { content: ""; @apply absolute inset-0 rounded-lg opacity-60; background: linear-gradient(110deg,transparent,rgba(255,255,255,.22),transparent); background-size: 200% 100%; animation: shimmer 1.6s linear infinite; }

  /* Inputs */
  .input { @apply w-full rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500 outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500/40; }

  /* Card / Glass */
  .card { @apply rounded-2xl border border-white/10 bg-slate-900/40 shadow-[0_18px_55px_-35px_rgba(0,0,0,0.85)]; }
  .glass { @apply bg-white/[0.04] backdrop-blur-xl; }
  .glass-card { @apply card glass; }

  /* Links */
  .gradient-text { @apply bg-clip-text text-transparent bg-gradient-to-r from-indigo-300 via-sky-300 to-slate-100; }
  .link-underline { @apply relative; }
  .link-underline::after { content: ""; @apply absolute left-0 -bottom-0.5 h-0.5 w-0 bg-indigo-400/80 transition-all; }
  .link-underline:hover::after { @apply w-full; }
}

/* Subtle tech background */
.bg-tech {
  background-color: rgb(2 6 23); /* slate-950 */
  background-image:
    radial-gradient(800px 420px at 20% 10%, rgba(99,102,241,.22), transparent 60%),
    radial-gradient(700px 360px at 90% 20%, rgba(56,189,248,.12), transparent 55%),
    radial-gradient(700px 420px at 40% 100%, rgba(15,23,42,.9), transparent 65%);
}
.bg-grid {
  background-image: linear-gradient(to right, rgba(255,255,255,.04) 1px, transparent 1px), linear-gradient(to bottom, rgba(255,255,255,.04) 1px, transparent 1px);
  background-size: 24px 24px;
  mask-image: radial-gradient(circle at 40% 30%, rgba(0,0,0,.9), rgba(0,0,0,0) 70%);
}

@keyframes shimmer { from { background-position: 200% 0; } to { background-position: -200% 0; } }

@keyframes scan-sweep {
  0% { transform: translateY(-40%); opacity: 0; }
  15% { opacity: .35; }
  50% { opacity: .12; }
  100% { transform: translateY(120%); opacity: 0; }
}

@layer components {
  .scan-sweep {
    position: relative;
    overflow: hidden;
  }
  .scan-sweep::after {
    content: "";
    position: absolute;
    left: -20%;
    right: -20%;
    top: 0;
    height: 45%;
    background: linear-gradient(to bottom, transparent, rgba(99,102,241,.14), transparent);
    animation: scan-sweep 8.5s ease-in-out infinite;
    pointer-events: none;
    mix-blend-mode: screen;
  }
}

@media (prefers-reduced-motion: reduce) {
  .scan-sweep::after {
    animation: none !important;
  }
}
